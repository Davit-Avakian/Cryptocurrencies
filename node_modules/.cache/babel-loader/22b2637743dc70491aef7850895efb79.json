{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\David\\\\Desktop\\\\react\\\\cryptocurrencies\\\\cryptocurrencies\\\\src\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport ReactDom from 'react-dom';\nimport './index.css';\nimport { Header, List, Details, NotFound, PopUp, AccountDetails } from './components';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport MyProfile from './components/accountDetails/MyProfile';\nimport MyPurchases from './components/accountDetails/MyPurchases';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const currentUser = {};\n  const [openPopUp, setOpenPopUp] = useState(false);\n  const [createAccount, setCreateAccount] = useState(false);\n  const [signedIn, setSignedIn] = useState(currentUser.signedIn);\n  const [accountDetails, setAccountDetails] = useState(false);\n  const [error, setError] = useState(false);\n  const [users, setUsers] = useState(JSON.parse(localStorage.getItem('users')) || []); // constructor() {\n  //   super();\n  //   this.currentUser = {\n  //   };\n  //   this.state = {\n  //     openPopUp: false,\n  //     createAccount: false,\n  //     signedIn: this.currentUser.signedIn,\n  //     accountDetails: false,\n  //     error: false,\n  //     purchases: [],\n  //     users: JSON.parse(localStorage.getItem('users')) || [],\n  //   }\n  // }\n\n  createAccountCheck = async (users, user) => {\n    this.setState({\n      error: false\n    }, () => {\n      users.forEach(us => {\n        if (us.email == user.email) {\n          this.setState({\n            error: true\n          });\n        }\n      });\n    });\n  };\n\n  createAccountSubmit = async user => {\n    const newUsers = JSON.parse(localStorage.getItem('users')) ? [...JSON.parse(localStorage.getItem('users'))] : [];\n    user.id = newUsers.length + 1;\n    user.purchases = [];\n    await this.createAccountCheck(newUsers, user);\n\n    if (this.state.error) {\n      return;\n    }\n\n    newUsers.push(user);\n    localStorage.setItem('users', JSON.stringify(newUsers));\n    this.setState({\n      openPopUp: false,\n      signedIn: true\n    });\n    this.currentUser = user;\n  };\n\n  openPopUp = type => {\n    this.setState({\n      error: false\n    });\n\n    if (type == 'create') {\n      this.setState({\n        openPopUp: true,\n        createAccount: true\n      });\n      return;\n    }\n\n    this.setState({\n      openPopUp: true\n    });\n  };\n\n  closePopUp = (e, ref) => {\n    e.stopPropagation();\n\n    if (ref.current.contains(e.target)) {\n      return;\n    }\n\n    this.setState({\n      openPopUp: false,\n      createAccount: false\n    });\n  };\n\n  submitSignInCheck = (users, user) => {\n    this.setState({\n      error: true\n    }, () => {\n      if (!users) {\n        return;\n      }\n\n      users.forEach(us => {\n        if (us.email == user.email && us.password == user.password) {\n          this.currentUser = us;\n          this.setState({\n            error: false\n          });\n          return;\n        }\n      });\n    });\n  };\n\n  submitSignIn = async user => {\n    const newUsers = JSON.parse(localStorage.getItem('users'));\n    await this.submitSignInCheck(newUsers, user);\n\n    if (this.state.error) {\n      return;\n    }\n\n    this.setState({\n      openPopUp: false,\n      signedIn: true\n    });\n  };\n\n  openAccountDetails = e => {\n    e.stopPropagation();\n    this.setState({\n      accountDetails: true\n    });\n  };\n\n  closeDetails = (e, ref) => {\n    if (ref && ref.current.contains(e.target)) {\n      return;\n    }\n\n    this.setState({\n      accountDetails: false\n    });\n  };\n\n  logout = () => {\n    this.setState({\n      signedIn: false,\n      accountDetails: false,\n      purchases: []\n    });\n  };\n\n  setPurchases = (id, buy, name, count, price) => {\n    const users = JSON.parse(localStorage.getItem('users'));\n    const purchase = {\n      id,\n      type: buy ? 'buy' : 'sell',\n      name,\n      count,\n      price: price * count\n    };\n    const newUsers = users.map(user => {\n      if (user.id == this.currentUser.id) {\n        user.purchase = user.purchases ? user.purchases.push(purchase) : [purchase];\n        this.currentUser = user;\n      }\n\n      return user;\n    });\n    this.setState({\n      users: newUsers\n    }, () => {\n      localStorage.setItem('users', JSON.stringify(newUsers));\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        openPopUp: openPopUp,\n        signedIn: signedIn,\n        openAccountDetails: openAccountDetails\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this), openPopUp ? /*#__PURE__*/_jsxDEV(PopUp, {\n        closePopUp: closePopUp,\n        createAccountSubmit: createAccountSubmit,\n        createAccount: createAccount,\n        submitSignIn: submitSignIn,\n        error: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 24\n      }, this) : null, accountDetails ? /*#__PURE__*/_jsxDEV(AccountDetails, {\n        closeDetails: closeDetails,\n        logout: logout,\n        id: currentUser.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 29\n      }, this) : null, /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: '/',\n          element: /*#__PURE__*/_jsxDEV(List, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: '/currency/:id',\n          element: /*#__PURE__*/_jsxDEV(Details, {\n            signedIn: signedIn,\n            setPurchases: setPurchases\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: '/myprofile/:id',\n          element: /*#__PURE__*/_jsxDEV(MyProfile, {\n            users: users\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: '/mypurchases/:id',\n          element: /*#__PURE__*/_jsxDEV(MyPurchases, {\n            users: users,\n            currentUser: currentUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 55\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 38\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 7\n  }, this);\n};\n\n_s(App, \"QzYVNbLiNjjl/8ia20NxD+nu/IE=\");\n\n_c = App;\nReactDom.render( /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 182,\n  columnNumber: 4\n}, this), document.getElementById('root'));\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/David/Desktop/react/cryptocurrencies/cryptocurrencies/src/index.js"],"names":["React","useState","ReactDom","Header","List","Details","NotFound","PopUp","AccountDetails","BrowserRouter","Routes","Route","MyProfile","MyPurchases","App","currentUser","openPopUp","setOpenPopUp","createAccount","setCreateAccount","signedIn","setSignedIn","accountDetails","setAccountDetails","error","setError","users","setUsers","JSON","parse","localStorage","getItem","createAccountCheck","user","setState","forEach","us","email","createAccountSubmit","newUsers","id","length","purchases","state","push","setItem","stringify","type","closePopUp","e","ref","stopPropagation","current","contains","target","submitSignInCheck","password","submitSignIn","openAccountDetails","closeDetails","logout","setPurchases","buy","name","count","price","purchase","map","render","document","getElementById"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport ReactDom from 'react-dom';\nimport './index.css'\nimport { Header, List, Details, NotFound, PopUp, AccountDetails } from './components';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport MyProfile from './components/accountDetails/MyProfile';\nimport MyPurchases from './components/accountDetails/MyPurchases';\n\n\nconst App = () => {\n\n  const currentUser = {};\n  const [openPopUp, setOpenPopUp] = useState(false);\n  const [createAccount, setCreateAccount] = useState(false);\n  const [signedIn, setSignedIn] = useState(currentUser.signedIn);\n  const [accountDetails, setAccountDetails] = useState(false);\n  const [error, setError] = useState(false);\n  const [users, setUsers] = useState(JSON.parse(localStorage.getItem('users')) || [])\n\n  // constructor() {\n  //   super();\n\n  //   this.currentUser = {\n\n  //   };\n\n  //   this.state = {\n  //     openPopUp: false,\n  //     createAccount: false,\n  //     signedIn: this.currentUser.signedIn,\n  //     accountDetails: false,\n  //     error: false,\n  //     purchases: [],\n  //     users: JSON.parse(localStorage.getItem('users')) || [],\n  //   }\n  // }\n\n  createAccountCheck = async(users, user) => {\n    this.setState({error: false}, () => {\n      users.forEach(us => {\n      if(us.email == user.email) {\n        this.setState({error : true})\n      }\n    })\n    })\n    \n  }\n\n  createAccountSubmit = async(user) => {\n    const newUsers = JSON.parse(localStorage.getItem('users')) ? [...JSON.parse(localStorage.getItem('users'))] : [];\n    user.id = newUsers.length+1;\n    user.purchases = [];\n    await this.createAccountCheck(newUsers, user);\n\n    if(this.state.error) {\n      return\n    }\n    newUsers.push(user)\n    localStorage.setItem('users', JSON.stringify(newUsers))\n\n      this.setState({openPopUp: false, signedIn: true})\n      this.currentUser = user;\n    }\n  \n\n  openPopUp = (type) => {\n    this.setState({error: false})\n    if(type == 'create') {\n      this.setState({openPopUp: true, createAccount: true})\n\n      return;\n    }\n\n    this.setState({openPopUp: true})\n  }\n\n  closePopUp = (e,ref) => {\n    e.stopPropagation();\n    \n    if(ref.current.contains(e.target)) {\n      return;\n    }\n    this.setState({openPopUp: false, createAccount: false})\n  }\n\n  submitSignInCheck = (users, user) => {\n    this.setState({error: true}, () => {\n      if(!users) {\n      return;\n    }\n      users.forEach(us => {\n        if(us.email == user.email && us.password == user.password) {\n          this.currentUser = us;\n          this.setState({error: false});\n\n          return\n        }\n    })\n    })\n    \n  }\n\n  submitSignIn = async(user) => {\n    const newUsers = JSON.parse(localStorage.getItem('users'));\n\n    await this.submitSignInCheck(newUsers,user);\n\n    if(this.state.error) {\n      return;\n    }\n\n    this.setState({openPopUp: false, signedIn: true})\n  }\n\n  openAccountDetails = (e) => {\n    e.stopPropagation();\n    \n    this.setState({accountDetails: true})\n  }\n\n  closeDetails = (e,ref) => {\n    if(ref && ref.current.contains(e.target)) {\n      return;\n    }\n\n    this.setState({accountDetails: false})\n  }\n\n  logout = () => {\n    this.setState({signedIn: false, accountDetails: false, purchases: []})\n  }\n\nsetPurchases = (id, buy, name, count, price) => {\n    const users = JSON.parse(localStorage.getItem('users'));\n\n    const purchase = {\n      id,\n      type: buy ? 'buy' : 'sell',\n      name,\n      count,\n      price: price*count,\n    }\n\n\n\n    const newUsers = users.map(user => {\n      if(user.id == this.currentUser.id) {\n        user.purchase = user.purchases ? user.purchases.push(purchase) : [purchase];\n        this.currentUser = user;\n      }\n      return user;\n    });\n\n    this.setState({users: newUsers}, () => {\n      localStorage.setItem('users', JSON.stringify(newUsers));\n    });\n\n    \n  }\n\n  \n      return (\n      <BrowserRouter>\n        <div>\n          <Header openPopUp={openPopUp} signedIn={signedIn} openAccountDetails={openAccountDetails}/>\n          {openPopUp ? <PopUp closePopUp={closePopUp} createAccountSubmit={createAccountSubmit} createAccount={createAccount} submitSignIn={submitSignIn} error={error}/> : null}\n          {accountDetails ? <AccountDetails closeDetails={closeDetails} logout={logout} id={currentUser.id}/> : null}\n          <Routes>\n            <Route path={'/'} element={<List />}/>\n            <Route path={'/currency/:id'} element={(<Details signedIn={signedIn} setPurchases={setPurchases}/>)}/>\n            <Route path={'/myprofile/:id'} element={<MyProfile users={users} />}/>\n            <Route path={'/mypurchases/:id'} element={<MyPurchases users={users} currentUser={currentUser}/>}/>\n            <Route path='*' element={<NotFound />} />\n          </Routes>\n        </div>\n      </BrowserRouter>\n    )\n  }\n\n\nReactDom.render(\n   <App/>,\n  document.getElementById('root')\n)\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}