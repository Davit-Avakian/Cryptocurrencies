{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\David\\\\Desktop\\\\react\\\\cryptocurrencies\\\\cryptocurrencies\\\\src\\\\components\\\\Details\\\\Details.js\";\nimport { render } from '@testing-library/react';\nimport { func } from 'prop-types';\nimport React from 'react';\nimport { getCurrencyURL } from '../../configs';\nimport './Details.css';\nimport PurchasePopUp from './PurchasePopUp';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Details extends React.Component {\n  constructor() {\n    super();\n\n    this.fetchCurrency = () => {\n      const {\n        id\n      } = this.props.match.params;\n      fetch(`${getCurrencyURL(id)}`).then(data => data.json()).then(response => {\n        this.setState({\n          currency: response\n        });\n      });\n    };\n\n    this.openPurchasePopUp = buy => {\n      if (buy) {\n        this.setState({\n          openPopUp: true,\n          buy: true\n        });\n        return;\n      }\n\n      this.setState({\n        openPopUp: true,\n        buy: false\n      });\n    };\n\n    this.closePurchasePopUp = () => {\n      this.setState({\n        openPopUp: false,\n        buy: false\n      });\n    };\n\n    this.state = {\n      currency: [],\n      openPopUp: false,\n      buy: false\n    };\n  }\n\n  componentDidMount() {\n    this.fetchCurrency();\n  }\n\n  shouldComponentUpdate(prevProps, prevState) {\n    const {\n      id\n    } = this.props.match.params;\n    const {\n      prevId\n    } = prevProps.match.params;\n\n    if (prevId != id || prevProps != this.props | prevState != this.state) {\n      this.fetchCurrency();\n      return true;\n    }\n\n    return false;\n  }\n\n  render() {\n    const {\n      currency,\n      openPopUp,\n      buy\n    } = this.state;\n    const {\n      goBack\n    } = this.props.history;\n    const {\n      signedIn,\n      setPurchases\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Detail\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"go-back\",\n        onClick: goBack,\n        children: \"Go Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), currency.map(_ref => {\n        let {\n          id,\n          name,\n          image,\n          current_price,\n          market_cap,\n          circulating_supply\n        } = _ref;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Detail-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: image,\n            style: {\n              width: '100px',\n              height: '100px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Price - \", current_price, \"$\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Market Cap - \", market_cap, \"$\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Circulating Supply - \", circulating_supply, \"$\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 33\n          }, this), signedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Detail-Buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"buy\",\n              onClick: () => this.openPurchasePopUp(true),\n              children: \"BUY\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"sell\",\n              onClick: () => this.openPurchasePopUp(false),\n              children: \"SELL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 44\n          }, this) : null, openPopUp ? /*#__PURE__*/_jsxDEV(PurchasePopUp, {\n            id: id,\n            buy: buy,\n            currencyName: name,\n            currencyPrice: current_price,\n            closePopUp: this.closePurchasePopUp,\n            setPurchases: setPurchases\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 46\n          }, this) : null]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 29\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Details;","map":{"version":3,"sources":["C:/Users/David/Desktop/react/cryptocurrencies/cryptocurrencies/src/components/Details/Details.js"],"names":["render","func","React","getCurrencyURL","PurchasePopUp","Details","Component","constructor","fetchCurrency","id","props","match","params","fetch","then","data","json","response","setState","currency","openPurchasePopUp","buy","openPopUp","closePurchasePopUp","state","componentDidMount","shouldComponentUpdate","prevProps","prevState","prevId","goBack","history","signedIn","setPurchases","map","name","image","current_price","market_cap","circulating_supply","width","height"],"mappings":"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","sourcesContent":["import { render } from '@testing-library/react';\r\nimport { func } from 'prop-types';\r\nimport React from 'react';\r\nimport { getCurrencyURL } from '../../configs';\r\nimport './Details.css';\r\nimport PurchasePopUp from './PurchasePopUp';\r\n\r\nclass Details extends React.Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            currency: [],\r\n            openPopUp: false,\r\n            buy: false,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchCurrency();\r\n    }\r\n\r\n    shouldComponentUpdate(prevProps, prevState) {\r\n        const {id} = this.props.match.params;\r\n        const {prevId} = prevProps.match.params;\r\n\r\n        if(prevId != id || prevProps != this.props | prevState != this.state) {\r\n            this.fetchCurrency();\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    fetchCurrency = () => {\r\n        const {id} = this.props.match.params;\r\n\r\n        fetch(`${getCurrencyURL(id)}`)\r\n            .then(data => data.json())\r\n            .then(response => {\r\n                this.setState({currency: response})\r\n            })\r\n    }\r\n\r\n    openPurchasePopUp = (buy) => {\r\n        if(buy) {\r\n            this.setState({openPopUp: true, buy:true});\r\n            return;\r\n        }\r\n        this.setState({openPopUp: true, buy: false})\r\n    }\r\n\r\n    closePurchasePopUp = () => {\r\n        this.setState({openPopUp: false, buy: false});\r\n    }\r\n\r\n    render() {\r\n        const {currency, openPopUp, buy} = this.state;\r\n        const {goBack} = this.props.history;\r\n        const {signedIn, setPurchases} = this.props;\r\n\r\n        return (\r\n        <div className='Detail'>\r\n            <span className='go-back' onClick={goBack}>Go Back</span>\r\n            {\r\n                currency.map(({id, name, image, current_price, market_cap, circulating_supply}) => {\r\n                    return (\r\n                            <div className='Detail-info' key={id}>\r\n                                <img src={image} style={{width: '100px', height: '100px'}}></img>\r\n                                <h2>{name}</h2>\r\n                                <span>Price - {current_price}$</span>\r\n                                <span>Market Cap - {market_cap}$</span>\r\n                                <span>Circulating Supply - {circulating_supply}$</span>\r\n                                {\r\n                                signedIn ? <div className='Detail-Buttons'>\r\n                                    <button className='buy' onClick={() => this.openPurchasePopUp(true)}>BUY</button>\r\n                                    <button className='sell' onClick={() => this.openPurchasePopUp(false)}>SELL</button>\r\n                                </div> : null\r\n                                }\r\n                                {openPopUp ? <PurchasePopUp id={id} buy={buy} currencyName={name} currencyPrice={current_price} closePopUp={this.closePurchasePopUp} setPurchases={setPurchases}/> : null}\r\n                            </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n    }\r\n    \r\n}\r\n\r\nexport default Details;"]},"metadata":{},"sourceType":"module"}